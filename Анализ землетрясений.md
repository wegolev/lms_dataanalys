## **Проект: Интерактивная карта землетрясений**

**Цель проекта:** Визуализировать данные о землетрясениях по всему миру, проанализировать их пространственное распределение, интенсивность и временные закономерности.

---

### **Стек технологий:**

*   **Язык программирования:** Python
*   **Основные библиотеки для анализа:**
    *   `pandas`, `numpy`
*   **Библиотеки для визуализации:**
    *   `folium` (для создания интерактивных карт) - **основной инструмент!**
    *   `plotly express` (для альтернативной визуализации)
    *   `matplotlib`, `seaborn` (для статических графиков и анализа)
*   **Библиотеки для работы с геоданными:**
    *   `geopandas` (опционально, для продвинутой работы)
*   **Инструменты:**
    *   `Jupyter Notebook`

---

### **Подробный поэтапный план работы**

#### **Этап 0: Подготовительный (1 неделя)**

*   **Задача:** Найти актуальные данные и определить фокус анализа.
*   **Действия:**
    1.  **Поиск датасета:** Ключевые источники:
        *   **USGS (Геологическая служба США)** - **Лучший источник!**
            *   API: `https://earthquake.usgs.gov/earthquakes/feed/v1.0/csv.php`
            *   Можно скачать данные за последние 30 дней в CSV.
        *   **Kaggle** (например, "Global Earthquake Dataset")
        *   **GNSS (Global Navigation Satellite Systems)**
    2.  **Формулировка гипотез:**
        *   "Большинство землетрясений сосредоточено вдоль тектонических разломов (Тихоокеанское вулканическое огненное кольцо)".
        *   "Существует корреляция между магнитудой землетрясения и его глубиной".
        *   "В последние годы/месяцы не наблюдается увеличения частоты сильных землетрясений".
*   **Результат:** Датaсет и план анализа.

#### **Этап 1: Первичный анализ и очистка данных (1 неделя)**

*   **Задача:** Изучить и подготовить данные.
*   **Действия:**
    1.  **Загрузка данных:** Загрузить CSV от USGS.
    2.  **Изучение структуры:** Посмотреть на столбцы: `time`, `latitude`, `longitude`, `depth`, `mag`, `magType`, `place`, `type`.
    3.  **Очистка:**
        *   Проверить пропуски в ключевых столбцах (`mag`, `latitude`, `longitude`).
        *   Отфильтровать данные, оставив только события типа `'earthquake'`.
        *   Преобразовать столбец `time` в формат datetime.
        *   Создать отдельные столбцы `date` и `hour`.
*   **Результат:** Чистый датасет, готовый для визуализации.

#### **Этап 2: Создание интерактивной карты (1-2 недели) - ЯДРО ПРОЕКТА**

*   **Задача:** Визуализировать все землетрясения на карте мира.
*   **Действия:**
    1.  **Базовая карта:** Создать базовую карту мира с помощью `folium.Map()`.
    2.  **Добавление маркеров:**
        *   Использовать `folium.CircleMarker` или `folium.Circle`.
        *   **Размер маркера** привязать к магнитуде (`mag`).
        *   **Цвет маркера** привязать к глубине (`depth`) или магнитуде.
        *   Добавить `popup` с информацией: место, магнитуда, глубина, время.
    3.  **Визуальное улучшение:**
        *   Добавить слой с тектоническими плитами (можно найти GeoJSON файл).
        *   Сгруппировать маркеры с помощью `MarkerCluster` для удобства просмотра.
        *   Создать `FeatureGroup` для разделения данных по магнитуде (например, слабые, средние, сильные).
*   **Результат:** Интерактивная HTML-карта, где можно кликать на землетрясения и видеть детали.

#### **Этап 3: Углубленный анализ и статическая визуализация (1 неделя)**

*   **Задача:** Ответить на аналитические вопросы.
*   **Действия:**
    1.  **Анализ распределения:**
        *   Построить гистограмму распределения магнитуд.
        *   Построить гистограмму распределения глубин.
    2.  **Пространственный анализ:**
        *   Построить heatmap (тепловую карту) плотности землетрясений с помощью `folium.plugins.HeatMap`.
        *   Выделить регионы с наибольшей сейсмической активностью.
    3.  **Временной анализ:**
        *   Построить график количества землетрясений по дням/неделям.
        *   Проанализировать, есть ли временные закономерности (например, больше землетрясений ночью?).
    4.  **Корреляционный анализ:**
        *   Построить scatter plot "Глубина vs Магнитуда".
        *   Посчитать корреляцию между числовыми признаками.
*   **Результат:** Набор графиков и выводов, дополняющих карту.

#### **Этап 4: Создание дашборда и углубленные темы (1 неделя)**

*   **Задача:** Объединить все визуализации в единую панель.
*   **Действия:**
    1.  **Создание дашборда:**
        *   Использовать `plotly.subplots` для создания единой панели с картой и графиками.
        *   Либо вывести карту и графики в Jupyter Notebook как последовательную историю.
    2.  **Анализ конкретного региона:** (опционально)
        *   Сфокусироваться на конкретном регионе (например, Япония, Калифорния).
        *   Проанализировать сейсмическую активность в этом регионе глубже.
    3.  **Прогнозирование:** (опционально, для продвинутых)
        *   Попробовать применить простые методы ML для предсказания магнитуды на основе локации и глубины.
*   **Результат:** Законченный аналитический продукт.

---

### **Конкретные источники данных:**

**USGS (рекомендуется):**
```python
import pandas as pd

# Данные о значительных землетрясениях за последние 30 дней
url = "https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/significant_month.csv"
df = pd.read_csv(url)

# Или все землетрясения магнитудой > 4.5 за последние 30 дней
url_all = "https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/4.5_month.csv"
df_all = pd.read_csv(url_all)
```

**Kaggle:**
- "Global Earthquake Dataset"
- "Earthquakes in Turkey"

---

### **Пример кода для базовой карты:**

```python
import folium
from folium.plugins import MarkerCluster

# Создаем базовую карту
m = folium.Map(location=[20, 0], zoom_start=2)

# Создаем кластер для маркеров
marker_cluster = MarkerCluster().add_to(m)

# Добавляем землетрясения на карту
for idx, row in df.iterrows():
    popup_text = f"""
    Место: {row['place']}<br>
    Магнитуда: {row['mag']}<br>
    Глубина: {row['depth']} km<br>
    Время: {row['time']}
    """
    
    folium.CircleMarker(
        location=[row['latitude'], row['longitude']],
        radius=row['mag'] * 2,  # Размер зависит от магнитуды
        popup=popup_text,
        color='red' if row['mag'] > 6 else 'orange',
        fill=True
    ).add_to(marker_cluster)

# Сохраняем карту
m.save('earthquake_map.html')
```

**Что можно показать на защите проекта:**
1.  Интерактивную карту с кластеризацией
2.  Heatmap плотности землетрясений
3.  График распределения магнитуд
4.  Анализ Тихоокеанского вулканического кольца
5.  Выводы о закономерностях сейсмической активности
