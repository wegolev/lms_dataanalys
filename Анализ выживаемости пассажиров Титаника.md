## **Проект: Анализ выживаемости пассажиров Титаника**

**Цель проекта:** Исследовать факторы, влиявшие на выживаемость пассажиров, построить прогнозную модель и проанализировать социальные аспекты трагедии.

---

### **Стек технологий:**

*   **Язык программирования:** Python
*   **Основные библиотеки для анализа:**
    *   `pandas`, `numpy`
*   **Библиотеки для визуализации:**
    *   `matplotlib`, `seaborn`, `plotly`
*   **Библиотеки для машинного обучения:**
    *   `scikit-learn` (для построения моделей классификации)
    *   `xgboost` или `catboost` (продвинутые алгоритмы)
*   **Инструменты:**
    *   `Jupyter Notebook`

---

### **Подробный поэтапный план работы**

#### **Этап 0: Подготовительный (1 неделя)**

*   **Задача:** Изучить данные и сформулировать гипотезы.
*   **Действия:**
    1.  **Загрузка датасета:** Классический датасет доступен на Kaggle
        ```python
        train_df = pd.read_csv('train.csv')
        test_df = pd.read_csv('test.csv')
        ```
    2.  **Изучение переменных:**
        *   `Survived` - целевая переменная
        *   `Pclass` - класс каюты
        *   `Sex` - пол
        *   `Age` - возраст
        *   `SibSp` - количество siblings/spouses на борту
        *   `Parch` - количество parents/children на борту
        *   `Fare` - стоимость билета
        *   `Embarked` - порт посадки
        *   `Cabin` - номер каюты
        *   `Name` - имя
    3.  **Формулировка гипотез:**
        *   "Женщины и дети имели приоритет при спасении"
        *   "Пассажиры 1-го класса имели higher chance of survival"
        *   "Возраст влиял на вероятность выживания"
*   **Результат:** Понимание данных и план анализа.

#### **Этап 1: Разведочный анализ данных (EDA) (1-2 недели)**

*   **Задача:** Исследовать распределения и зависимости.
*   **Действия:**
    1.  **Анализ выживаемости:**
        ```python
        survival_rate = train_df['Survived'].mean()
        print(f"Общая выживаемость: {survival_rate:.2%}")
        ```
    2.  **Визуализация по полу и классу:**
        *   Bar plot выживаемости по полу
        *   Stacked bar plot по классам
        *   Heatmap "Класс × Пол × Выживаемость"
    3.  **Анализ возраста:**
        *   Гистограмма распределения возраста
        *   Box plot возраста по выживаемости
        *   Анализ выживаемости детей vs взрослых
*   **Результат:** Ключевые инсайты о факторах выживания.

#### **Этап 2: Предобработка и feature engineering (1-2 недели)**

*   **Задача:** Создать новые признаки и подготовить данные.
*   **Действия:**
    1.  **Обработка пропусков:**
        *   `Age` - заполнить медианой или предсказать
        *   `Embarked` - заполнить модой
        *   `Cabin` - извлечь информацию (буква палубы)
    2.  **Создание новых признаков:**
        ```python
        # Размер семьи
        train_df['FamilySize'] = train_df['SibSp'] + train_df['Parch'] + 1
        
        # Один ли пассажир
        train_df['IsAlone'] = (train_df['FamilySize'] == 1).astype(int)
        
        # Извлечение титула из имени
        train_df['Title'] = train_df['Name'].str.extract(' ([A-Za-z]+)\.', expand=False)
        
        # Группировка возраста
        train_df['AgeGroup'] = pd.cut(train_df['Age'], bins=[0, 12, 18, 35, 60, 100], 
                                    labels=['Child', 'Teen', 'Adult', 'Middle', 'Senior'])
        ```
    3.  **Кодирование категориальных переменных:**
        *   One-Hot Encoding для `Sex`, `Embarked`, `Title`
*   **Результат:** Обогащенный и очищенный датасет.

#### **Этап 3: Углубленный статистический анализ (1 неделя)**

*   **Задача:** Проверить гипотезы статистическими методами.
*   **Действия:**
    1.  **Статистические тесты:**
        *   t-test для возраста выживших/погибших
        *   Chi-square test для категориальных переменных
    2.  **Корреляционный анализ:**
        *   Матрица корреляции между признаками
        *   Анализ multicollinearity
    3.  **Анализ взаимодействия признаков:**
        *   Выживаемость по комбинациям "Класс+Пол+Возраст"
*   **Результат:** Статистически подтвержденные закономерности.

#### **Этап 4: Построение прогнозной модели (2 недели)**

*   **Задача:** Создать модель для предсказания выживаемости.
*   **Действия:**
    1.  **Подготовка данных:**
        *   Разделение на train/validation
        *   Масштабирование числовых признаков
    2.  **Обучение моделей:**
        ```python
        from sklearn.ensemble import RandomForestClassifier
        from sklearn.linear_model import LogisticRegression
        from sklearn.svm import SVC
        
        models = {
            'Logistic Regression': LogisticRegression(),
            'Random Forest': RandomForestClassifier(),
            'SVM': SVC()
        }
        ```
    3.  **Оценка и валидация:**
        *   Метрики: Accuracy, Precision, Recall, F1-score
        *   ROC-AUC кривая
        *   Confusion matrix
    4.  **Анализ важности признаков:**
        *   Feature importance для Random Forest
*   **Результат:** Обученная модель с оценкой качества.

#### **Этап 5: Визуализация и презентация (1 неделя)**

*   **Задача:** Создать наглядные материалы и выводы.
*   **Действия:**
    1.  **Ключевые визуализации:**
        *   Dashboard с основными метриками
        *   Интерактивные графики выживаемости
    2.  **Исторический контекст:**
        *   Анализ социального неравенства
        *   Сравнение с реальными историческими данными
*   **Результат:** Комплексный отчет и презентация.

---

### **Пример кода для анализа:**

```python
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt

# Загрузка данных
train_df = pd.read_csv('train.csv')

# Базовая статистика выживаемости
plt.figure(figsize=(15, 10))

# 1. Выживаемость по полу
plt.subplot(2, 3, 1)
sns.barplot(data=train_df, x='Sex', y='Survived')
plt.title('Выживаемость по полу')

# 2. Выживаемость по классу
plt.subplot(2, 3, 2)
sns.barplot(data=train_df, x='Pclass', y='Survived')
plt.title('Выживаемость по классу')

# 3. Распределение возраста
plt.subplot(2, 3, 3)
sns.histplot(data=train_df, x='Age', hue='Survived', multiple='stack')
plt.title('Распределение возраста')

# 4. Стоимость билета vs Выживаемость
plt.subplot(2, 3, 4)
sns.boxplot(data=train_df, x='Survived', y='Fare')
plt.title('Стоимость билета и выживаемость')

# 5. Порт посадки
plt.subplot(2, 3, 5)
sns.barplot(data=train_df, x='Embarked', y='Survived')
plt.title('Выживаемость по порту посадки')

plt.tight_layout()
plt.show()

# Анализ комбинированных факторов
pivot_table = train_df.pivot_table(
    values='Survived', 
    index='Sex', 
    columns='Pclass', 
    aggfunc='mean'
)
plt.figure(figsize=(8, 6))
sns.heatmap(pivot_table, annot=True, cmap='coolwarm', fmt='.2%')
plt.title('Выживаемость: Пол × Класс')
plt.show()
```

### **Продвинутые идеи для проекта:**

1.  **Анализ семей** - выживали ли целые семьи?
2.  **Геospatial анализ** - расположение кают и выживаемость
3.  **Social network analysis** - связи между пассажирами
4.  **Ensemble модели** для улучшения предсказаний
5.  **Deep learning** подходы для анализа

**Что показать на защите:**
- Ключевые демографические факторы выживаемости
- Визуализацию "спасательной пирамиды" (женщины и дети first)
- Статистическую значимость факторов
- Прогнозную модель с интерпретацией
- Исторические выводы и современные параллели